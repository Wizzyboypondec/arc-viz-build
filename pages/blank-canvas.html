<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blank Canvas - Idi UBC LTD</title>
  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif']
          }
        }
      }
    };
  </script>
  <!-- Inter Font from Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Custom Styles -->
  <link rel="stylesheet" href="../css/globals.css">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    
    /* Animated Gradient Blobs */
    .blob {
      position: absolute;
      border-radius: 50%;
      filter: blur(40px);
      opacity: 0.3;
      z-index: -1;
    }
    
    .blob-1 {
      width: 300px;
      height: 300px;
      background-color: #6366f1;
      top: 20%;
      left: 10%;
      animation: float 12s ease-in-out infinite;
    }
    
    .blob-2 {
      width: 400px;
      height: 400px;
      background-color: #8b5cf6;
      bottom: 20%;
      right: 15%;
      animation: float 12s ease-in-out infinite 2s;
    }
    
    @keyframes float {
      0%, 100% {
        transform: translate(0, 0) scale(1);
      }
      25% {
        transform: translate(20px, 30px) scale(1.1);
      }
      50% {
        transform: translate(-20px, -30px) scale(0.9);
      }
      75% {
        transform: translate(-30px, 20px) scale(1.05);
      }
    }

    /* Canvas Styles */
    #design-canvas {
      background-image: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
      background-size: 20px 20px;
    }

    .tool-button {
      @apply w-10 h-10 glass flex items-center justify-center rounded-lg cursor-pointer hover:bg-white/20 transition-all duration-200;
    }

    .selected-tool {
      @apply ring-2 ring-purple-400 bg-white/20;
    }
  </style>
</head>
<body class="bg-slate-900 text-white min-h-screen relative overflow-x-hidden">
  <!-- Animated Background Blobs -->
  <div class="blob blob-1"></div>
  <div class="blob blob-2"></div>

  <!-- Include Navbar -->
  <div id="navbar-container"></div>

  <!-- Main Content -->
  <main class="pt-24 pb-12 px-6">
    <div class="container mx-auto max-w-7xl">
      <div class="flex flex-col md:flex-row gap-6">
        <!-- Left Sidebar: Tools -->
        <div class="w-full md:w-16 lg:w-20 flex-shrink-0 glass p-4 rounded-2xl">
          <div class="flex flex-col items-center space-y-4">
            <!-- Wall Tool -->
            <div class="tool-button selected" data-tool="wall" title="Wall">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8v8m0-8h16m-16 8h16m-16-8v8m16-8v8" />
              </svg>
            </div>
            
            <!-- Door Tool -->
            <div class="tool-button" data-tool="door" title="Door">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 20l4-16m2 16l4-16M6 9h14M4 15h16" />
              </svg>
            </div>
            
            <!-- Window Tool -->
            <div class="tool-button" data-tool="window" title="Window">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 14h18m-9-4v8m-7-4h14a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2z" />
              </svg>
            </div>
            
            <!-- Room Tool -->
            <div class="tool-button" data-tool="room" title="Room">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
              </svg>
            </div>
            
            <!-- Furniture Tool -->
            <div class="tool-button" data-tool="furniture" title="Furniture">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
              </svg>
            </div>
            
            <!-- Text Tool -->
            <div class="tool-button" data-tool="text" title="Text">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
              </svg>
            </div>
            
            <!-- Measure Tool -->
            <div class="tool-button" data-tool="measure" title="Measure">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
              </svg>
            </div>
            
            <!-- Undo -->
            <div class="tool-button" data-tool="undo" title="Undo">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" />
              </svg>
            </div>
            
            <!-- Redo -->
            <div class="tool-button" data-tool="redo" title="Redo">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 10h-10a8 8 0 00-8 8v2m18-10l-6 6m6-6l-6-6" />
              </svg>
            </div>
          </div>
        </div>

        <!-- Main Canvas Area -->
        <div class="flex-1">
          <!-- Canvas Header -->
          <div class="glass p-4 rounded-t-2xl flex items-center justify-between mb-0">
            <div class="flex items-center space-x-4">
              <h2 class="text-xl font-semibold">Design Canvas</h2>
              <span class="text-sm text-slate-300">Project: New Design</span>
            </div>
            
            <div class="flex items-center space-x-4">
              <button id="save-project" class="btn-glass btn-outline text-sm py-2 px-4">
                Save Project
              </button>
              <button id="export-design" class="btn-glass btn-primary text-sm py-2 px-4">
                Export Design
              </button>
            </div>
          </div>
          
          <!-- Canvas Container -->
          <div class="glass rounded-b-2xl p-6" style="min-height: 600px;">
            <div id="design-canvas" class="w-full h-96 md:h-[500px] border border-white/20 rounded-lg"></div>
            
            <div class="mt-6 text-center text-slate-400">
              <p>Select a tool from the sidebar and click on the canvas to start designing.</p>
              <p class="text-sm mt-2">You can also drag elements onto the canvas.</p>
            </div>
          </div>
        </div>

        <!-- Right Sidebar: Properties -->
        <div class="w-full md:w-80 flex-shrink-0">
          <div class="glass p-6 rounded-2xl h-fit">
            <h3 class="text-lg font-semibold mb-4">Properties</h3>
            
            <div class="space-y-4">
              <div>
                <label class="block text-sm font-medium mb-2">Project Name</label>
                <input type="text" value="New Design" class="input-glass w-full px-3 py-2 text-sm">
              </div>
              
              <div>
                <label class="block text-sm font-medium mb-2">Description</label>
                <textarea class="input-glass w-full px-3 py-2 text-sm" rows="3" placeholder="Enter project description..."></textarea>
              </div>
              
              <div class="border-t border-white/20 pt-4">
                <h4 class="font-medium mb-3">Dimensions</h4>
                <div class="grid grid-cols-2 gap-3">
                  <div>
                    <label class="block text-xs text-slate-300 mb-1">Width (m)</label>
                    <input type="number" value="10" class="input-glass w-full px-2 py-1 text-sm">
                  </div>
                  <div>
                    <label class="block text-xs text-slate-300 mb-1">Length (m)</label>
                    <input type="number" value="15" class="input-glass w-full px-2 py-1 text-sm">
                  </div>
                </div>
              </div>
              
              <div class="border-t border-white/20 pt-4">
                <h4 class="font-medium mb-3">Materials</h4>
                <select class="input-glass w-full px-3 py-2 text-sm">
                  <option>Concrete Blocks</option>
                  <option>Bricks</option>
                  <option>Wood Frame</option>
                  <option>Steel Frame</option>
                </select>
              </div>
              
              <div class="border-t border-white/20 pt-4">
                <h4 class="font-medium mb-3">Current Tool: <span id="current-tool" class="text-purple-300">Wall</span></h4>
                <div id="tool-properties" class="text-sm text-slate-300">
                  Click on the canvas to draw walls. Double-click to finish drawing.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Include Footer -->
  <div id="footer-container"></div>

  <script>
    // Load Navbar and Footer
    fetch('../components/Navbar.js')
      .then(response => response.text())
      .then(data => {
        const script = document.createElement('script');
        script.textContent = data;
        document.head.appendChild(script);
        
        const navbarContainer = document.getElementById('navbar-container');
        if (typeof renderNavbar === 'function') {
          navbarContainer.appendChild(renderNavbar());
        }
      });

    fetch('../components/Footer.js')
      .then(response => response.text())
      .then(data => {
        const script = document.createElement('script');
        script.textContent = data;
        document.head.appendChild(script);
        
        const footerContainer = document.getElementById('footer-container');
        if (typeof renderFooter === 'function') {
          footerContainer.appendChild(renderFooter());
        }
      });

    // Tool selection functionality
    document.addEventListener('DOMContentLoaded', function() {
      const toolButtons = document.querySelectorAll('.tool-button');
      let currentTool = 'wall';
      
      toolButtons.forEach(button => {
        button.addEventListener('click', function() {
          // Remove selected class from all buttons
          toolButtons.forEach(btn => {
            btn.classList.remove('selected-tool');
          });
          
          // Add selected class to clicked button
          this.classList.add('selected-tool');
          
          // Update current tool
          currentTool = this.dataset.tool;
          document.getElementById('current-tool').textContent = currentTool.charAt(0).toUpperCase() + currentTool.slice(1);
          
          // Update tool properties
          const toolProperties = document.getElementById('tool-properties');
          const toolDescriptions = {
            'wall': 'Click on the canvas to draw walls. Double-click to finish drawing.',
            'door': 'Click on a wall to place a door. Adjust size in properties panel.',
            'window': 'Click on a wall to place a window. Adjust dimensions as needed.',
            'room': 'Click and drag to define room boundaries. Double-click to finish.',
            'furniture': 'Drag furniture items from the library onto your design.',
            'text': 'Click to add text annotations to your design.',
            'measure': 'Click two points to measure distance between them.',
            'undo': 'Undo the last action (Ctrl+Z)',
            'redo': 'Redo the last undone action (Ctrl+Y)'
          };
          
          toolProperties.textContent = toolDescriptions[currentTool];
          
          // Special handling for undo/redo
          if (currentTool === 'undo') {
            alert('Undo last action');
            // In a real app, this would trigger undo functionality
            this.classList.remove('selected-tool');
            document.querySelector('[data-tool="' + currentTool + '"]').classList.add('selected-tool');
          } else if (currentTool === 'redo') {
            alert('Redo last action');
            // In a real app, this would trigger redo functionality
            this.classList.remove('selected-tool');
            document.querySelector('[data-tool="' + currentTool + '"]').classList.add('selected-tool');
          }
        });
      });
      
      // Set initial state
      document.querySelector('[data-tool="wall"]').classList.add('selected-tool');
      
      // Save project functionality
      document.getElementById('save-project').addEventListener('click', function() {
        alert('Project saved successfully!\nYour design has been saved to your account.');
      });
      
      // Export design functionality
      document.getElementById('export-design').addEventListener('click', function() {
        const exportOptions = ['PDF', 'SVG', 'PNG', 'DXF'];
        const choice = prompt(`Export as:\n${exportOptions.join('\n')}\n\nEnter your choice:`);
        
        if (choice && exportOptions.includes(choice.toUpperCase())) {
          alert(`Exporting design as ${choice.toUpperCase()}...\nYour file will download shortly.`);
        } else if (choice) {
          alert('Invalid format. Please choose from: PDF, SVG, PNG, or DXF');
        }
      });
    });
  </script>
</body>
</html>